@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 142 76% 36%;
    --primary-foreground: 355 7% 97%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 142 76% 36%;
    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(0, 212, 255, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 40% 20%, rgba(168, 255, 0, 0.05) 0%, transparent 50%);
    background-attachment: fixed;
  }
}

/* Wallet Connect Button Green Styling */
.wallet-adapter-button {
  background-color: rgb(34, 197, 94) !important;
  color: white !important;
  border: none !important;
  pointer-events: auto !important;
  cursor: pointer !important;
  z-index: 10 !important;
  position: relative !important;
}

.wallet-adapter-button:hover:not([disabled]) {
  background-color: rgb(22, 163, 74) !important;
}

.wallet-adapter-button:active:not([disabled]) {
  background-color: rgb(21, 128, 61) !important;
}

.wallet-adapter-button[disabled] {
  background-color: rgb(75, 85, 99) !important;
  opacity: 0.5 !important;
}

/* Ensure wallet connect wrapper is clickable */
.wallet-connect-wrapper {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 10 !important;
  display: inline-block !important;
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
}

.wallet-connect-wrapper * {
  pointer-events: auto !important;
}

/* Mobile-specific improvements for wallet button */
@media (hover: none) and (pointer: coarse) {
  .wallet-connect-wrapper button,
  .wallet-adapter-button {
    min-height: 44px !important; /* iOS recommended tap target */
    min-width: 44px !important;
    padding: 12px 24px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    touch-action: manipulation !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    -webkit-touch-callout: none !important;
  }
  
  .wallet-connect-wrapper {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* Android-specific wallet modal improvements */
@media (hover: none) and (pointer: coarse) {
  /* Ensure wallet adapter modal is visible and accessible on Android */
  .wallet-adapter-modal-wrapper,
  .wallet-adapter-modal,
  [class*="wallet-adapter-modal"] {
    z-index: 10000 !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    touch-action: manipulation !important;
    padding: 1rem !important;
  }
  
  /* Ensure wallet buttons in modal are tappable on Android */
  .wallet-adapter-modal button,
  [class*="wallet-adapter"] button {
    min-height: 48px !important; /* Android recommended tap target */
    min-width: 48px !important;
    padding: 14px 20px !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  }
  
  /* Improve wallet adapter modal content container for mobile */
  .wallet-adapter-modal-container,
  [class*="wallet-adapter-modal"][class*="container"] {
    max-width: 90vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    border-radius: 1rem !important;
  }
  
  /* Style the "Detected" badge/banner for better mobile visibility */
  .wallet-adapter-modal-list .wallet-adapter-button span,
  [class*="wallet-adapter"] [class*="detected"],
  [class*="wallet-adapter"] span[class*="badge"] {
    font-size: 0.75rem !important;
    padding: 4px 8px !important;
    border-radius: 6px !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
  }
  
  /* Improve text readability in wallet modal on mobile */
  .wallet-adapter-modal h2,
  .wallet-adapter-modal h3,
  .wallet-adapter-modal p,
  .wallet-adapter-modal span,
  [class*="wallet-adapter-modal"] h2,
  [class*="wallet-adapter-modal"] h3,
  [class*="wallet-adapter-modal"] p {
    font-size: 14px !important;
    line-height: 1.5 !important;
  }
  
  /* Improve wallet list items spacing on mobile */
  .wallet-adapter-modal-list,
  [class*="wallet-adapter-modal-list"] {
    gap: 0.75rem !important;
    padding: 1rem !important;
  }
  
  /* Improve wallet button text layout on mobile */
  .wallet-adapter-modal-list .wallet-adapter-button {
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 12px 16px !important;
    font-size: 16px !important;
    gap: 0.75rem !important;
  }
}

/* Mobile wallet modal improvements - general mobile screens */
@media (max-width: 640px) {
  /* Ensure wallet adapter modal is properly sized on mobile */
  .wallet-adapter-modal-wrapper,
  .wallet-adapter-modal,
  [class*="wallet-adapter-modal"],
  [role="dialog"][class*="wallet-adapter"] {
    padding: 1rem !important;
  }
  
  /* Improve modal content container */
  .wallet-adapter-modal-container,
  [class*="wallet-adapter-modal"][class*="container"],
  [role="dialog"][class*="wallet-adapter"] > div {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    border-radius: 1rem !important;
    max-height: calc(100vh - 2rem) !important;
    overflow-y: auto !important;
  }
  
  /* Improve "Phantom Detected" banner styling */
  .wallet-adapter-modal-list .wallet-adapter-button,
  [class*="wallet-adapter-modal-list"] [class*="wallet-adapter-button"] {
    position: relative !important;
    overflow: visible !important;
  }
  
  /* Style detected badge/banner text */
  .wallet-adapter-modal-list .wallet-adapter-button span:last-child,
  [class*="wallet-adapter-button"] span[class*="detected"],
  [class*="wallet-adapter-button"] span:not(:first-child) {
    background-color: rgb(34, 197, 94) !important;
    color: white !important;
    padding: 4px 10px !important;
    border-radius: 6px !important;
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    margin-left: auto !important;
  }
  
  /* Improve text readability in modal */
  .wallet-adapter-modal h1,
  .wallet-adapter-modal h2,
  .wallet-adapter-modal h3,
  [role="dialog"][class*="wallet-adapter"] h1,
  [role="dialog"][class*="wallet-adapter"] h2,
  [role="dialog"][class*="wallet-adapter"] h3 {
    font-size: 18px !important;
    line-height: 1.4 !important;
    margin-bottom: 0.5rem !important;
  }
  
  .wallet-adapter-modal p,
  [role="dialog"][class*="wallet-adapter"] p {
    font-size: 14px !important;
    line-height: 1.5 !important;
  }
  
  /* Improve wallet list spacing */
  .wallet-adapter-modal-list,
  [class*="wallet-adapter-modal-list"],
  [role="dialog"][class*="wallet-adapter"] ul,
  [role="dialog"][class*="wallet-adapter"] div[class*="list"] {
    gap: 0.75rem !important;
    padding: 1rem !important;
  }
  
  /* Better button layout for mobile */
  .wallet-adapter-modal-list .wallet-adapter-button,
  [class*="wallet-adapter-modal-list"] button {
    width: 100% !important;
    justify-content: space-between !important;
    padding: 14px 16px !important;
    font-size: 16px !important;
    min-height: 56px !important;
  }
}

/* Ensure sign dialog appears above wallet adapter modal */
[data-radix-dialog-overlay][class*="wallet-connect"] {
  z-index: 10000 !important;
}

[data-radix-dialog-content] {
  z-index: 10001 !important;
}

/* Winner golden tint animation */
@keyframes golden-pulse {
  0%, 100% {
    opacity: 0.25;
  }
  50% {
    opacity: 0.35;
  }
}

@keyframes golden-shimmer {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes golden-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(234, 179, 8, 0.4), 0 0 40px rgba(234, 179, 8, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(234, 179, 8, 0.6), 0 0 60px rgba(234, 179, 8, 0.4);
  }
}

.winner-golden-overlay {
  background: linear-gradient(
    135deg,
    rgba(234, 179, 8, 0.15) 0%,
    rgba(250, 204, 21, 0.20) 25%,
    rgba(234, 179, 8, 0.25) 50%,
    rgba(250, 204, 21, 0.20) 75%,
    rgba(234, 179, 8, 0.15) 100%
  );
  background-size: 200% 200%;
  animation: golden-pulse 4s ease-in-out infinite, golden-shimmer 6s ease-in-out infinite;
}

.winner-golden-card {
  animation: golden-glow 3s ease-in-out infinite;
}

/* Footer link tab flair */
.footer-link-tab {
  position: relative;
}
.footer-link-tab::after {
  content: '';
  position: absolute;
  bottom: 2px;
  left: 50%;
  height: 2px;
  width: 0;
  background: linear-gradient(90deg, transparent, rgb(34, 197, 94), transparent);
  transition: width 0.3s ease, left 0.3s ease;
}
.footer-link-tab:hover::after {
  width: 80%;
  left: 10%;
}

/* Owltopia neon text */
.owltopia-neon {
  color: rgb(34, 197, 94);
  text-shadow:
    0 0 4px rgb(34, 197, 94),
    0 0 12px rgb(34, 197, 94),
    0 0 24px rgba(34, 197, 94, 0.8),
    0 0 48px rgba(34, 197, 94, 0.5);
}

/* Mobile-first optimizations */
@media (max-width: 640px) {
  /* Ensure inputs are at least 16px to prevent zoom on iOS */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="datetime-local"],
  input[type="time"],
  input[type="date"],
  select,
  textarea {
    font-size: 16px !important;
  }

  /* Improve touch targets on mobile */
  button,
  a[role="button"],
  .cursor-pointer {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.2);
  }

  /* Improve spacing on mobile */
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* Optimize card spacing on mobile */
  [class*="Card"] {
    margin-bottom: 0.75rem;
  }
}

/* Improve touch targets for interactive elements */
button,
a[role="button"],
input[type="button"],
input[type="submit"],
label[role="button"],
.cursor-pointer {
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.2);
}

  /* Prevent text selection on buttons for better mobile UX */
button,
a[role="button"],
input[type="button"],
input[type="submit"] {
  user-select: none;
  -webkit-user-select: none;
}

/* Additional mobile wallet modal improvements - handle "Phantom Detected" banner */
@media (max-width: 640px) {
  /* Style the main modal title/header area */
  [role="dialog"][class*="wallet-adapter"] > div > div:first-child,
  .wallet-adapter-modal > div:first-child {
    padding: 1.5rem 1rem 1rem 1rem !important;
    text-align: center !important;
  }
  
  /* Improve "Phantom Detected" or similar detection banners */
  [role="dialog"][class*="wallet-adapter"] [class*="detected"],
  [role="dialog"][class*="wallet-adapter"] [style*="green"],
  .wallet-adapter-modal [class*="detected"],
  .wallet-adapter-modal [style*="background"][style*="green"],
  .wallet-adapter-modal div[style*="background-color: rgb(34, 197, 94)"] {
    border-radius: 8px !important;
    padding: 12px 16px !important;
    margin: 1rem 0 !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    text-align: center !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
  
  /* Improve text that says "Connect Wallet on Solana to continue" or similar */
  [role="dialog"][class*="wallet-adapter"] p,
  [role="dialog"][class*="wallet-adapter"] span:not([class*="button"]),
  .wallet-adapter-modal p:not([class*="button"]),
  .wallet-adapter-modal span:not([class*="button"]):not([class*="icon"]) {
    font-size: 14px !important;
    line-height: 1.6 !important;
    color: rgba(255, 255, 255, 0.9) !important;
    text-align: center !important;
    margin: 0.5rem 0 !important;
    padding: 0 0.5rem !important;
  }
  
  /* Style "More options" or expandable sections */
  [role="dialog"][class*="wallet-adapter"] [class*="more"],
  [role="dialog"][class*="wallet-adapter"] [class*="options"],
  [role="dialog"][class*="wallet-adapter"] button[class*="expand"],
  .wallet-adapter-modal [class*="more"],
  .wallet-adapter-modal [class*="options"] {
    font-size: 14px !important;
    padding: 12px 16px !important;
    min-height: 48px !important;
    width: 100% !important;
    justify-content: center !important;
    gap: 8px !important;
  }
  
  /* Improve overall modal content layout */
  [role="dialog"][class*="wallet-adapter"] > div,
  .wallet-adapter-modal > div {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
    padding: 1rem !important;
  }
  
  /* Ensure wallet list is properly styled */
  [role="dialog"][class*="wallet-adapter"] ul,
  [role="dialog"][class*="wallet-adapter"] [class*="list"],
  .wallet-adapter-modal ul,
  .wallet-adapter-modal [class*="list"] {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 100% !important;
  }
  
  /* Improve wallet item buttons */
  [role="dialog"][class*="wallet-adapter"] li button,
  [role="dialog"][class*="wallet-adapter"] [class*="list"] button,
  .wallet-adapter-modal li button,
  .wallet-adapter-modal [class*="list"] button {
    width: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 14px 16px !important;
    font-size: 16px !important;
    min-height: 56px !important;
    border-radius: 8px !important;
    gap: 12px !important;
  }
  
  /* Style wallet icons/images */
  [role="dialog"][class*="wallet-adapter"] img,
  [role="dialog"][class*="wallet-adapter"] svg,
  .wallet-adapter-modal img,
  .wallet-adapter-modal svg {
    width: 32px !important;
    height: 32px !important;
    flex-shrink: 0 !important;
  }
}
