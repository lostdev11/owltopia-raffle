@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 142 76% 36%;
    --primary-foreground: 355 7% 97%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 142 76% 36%;
    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(0, 212, 255, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 40% 20%, rgba(168, 255, 0, 0.05) 0%, transparent 50%);
    background-attachment: fixed;
  }
}

/* Wallet Connect Button Green Styling */
.wallet-adapter-button {
  background-color: rgb(34, 197, 94) !important;
  color: white !important;
  border: none !important;
  pointer-events: auto !important;
  cursor: pointer !important;
  z-index: 10 !important;
  position: relative !important;
}

.wallet-adapter-button:hover:not([disabled]) {
  background-color: rgb(22, 163, 74) !important;
}

.wallet-adapter-button:active:not([disabled]) {
  background-color: rgb(21, 128, 61) !important;
}

.wallet-adapter-button[disabled] {
  background-color: rgb(75, 85, 99) !important;
  opacity: 0.5 !important;
}

/* Ensure wallet connect wrapper is clickable */
.wallet-connect-wrapper {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 10 !important;
  display: inline-block !important;
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
}

/* Desktop: ensure wallet adapter modal appears above header and other UI */
@media (hover: hover) and (pointer: fine) {
  .wallet-adapter-modal,
  .wallet-adapter-modal-overlay {
    z-index: 10000 !important;
  }
  .wallet-adapter-modal-container {
    z-index: 10001 !important;
  }
  .wallet-adapter-modal-wrapper {
    z-index: 10002 !important;
  }
}

.wallet-connect-wrapper * {
  pointer-events: auto !important;
}

/* Solflare in-app browser: ensure buttons and clickable elements respond to touch */
body.solflare-browser button,
body.solflare-browser [role="button"],
body.solflare-browser .wallet-connect-wrapper,
body.solflare-browser .wallet-adapter-button {
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  cursor: pointer !important;
  pointer-events: auto !important;
}

body.solflare-browser .wallet-connect-wrapper,
body.solflare-browser .wallet-connect-wrapper * {
  pointer-events: auto !important;
}

/* Mobile (UA-detected): same touch-friendly rules for wallet connect */
body.mobile-wallet-context .wallet-connect-wrapper,
body.mobile-wallet-context .wallet-adapter-button,
body.mobile-wallet-context .wallet-connect-wrapper button {
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  pointer-events: auto !important;
}

/* Mobile-specific improvements for wallet button */
@media (hover: none) and (pointer: coarse) {
  .wallet-connect-wrapper button,
  .wallet-adapter-button {
    min-height: 44px !important; /* iOS recommended tap target */
    min-width: 44px !important;
    padding: 12px 24px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    touch-action: manipulation !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    -webkit-touch-callout: none !important;
  }
  
  .wallet-connect-wrapper {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* Mobile wallet modal improvements - ensure overlay shows page behind */
@media (hover: none) and (pointer: coarse) {
  /* Wallet adapter modal root - ensure it has backdrop overlay */
  .wallet-adapter-modal {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 10000 !important;
    background: rgba(0, 0, 0, 0.7) !important;
    backdrop-filter: blur(4px) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    touch-action: manipulation !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Wallet adapter modal overlay - ensure backdrop is visible */
  .wallet-adapter-modal-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(0, 0, 0, 0.7) !important;
    backdrop-filter: blur(4px) !important;
    z-index: 10000 !important;
    pointer-events: auto !important;
  }

  /* Wallet adapter modal container - centers content */
  .wallet-adapter-modal-container {
    position: relative !important;
    z-index: 10001 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
    padding: 1rem !important;
  }

  /* Wallet adapter modal wrapper - the actual modal content */
  .wallet-adapter-modal-wrapper {
    position: relative !important;
    z-index: 10002 !important;
    background: hsl(var(--background)) !important;
    border-radius: 0.5rem !important;
    max-width: 90vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
  }

  /* Ensure wallet adapter modal is visible and accessible on mobile */
  [class*="wallet-adapter-modal"]:not(.wallet-adapter-modal-wrapper):not(.wallet-adapter-modal-container) {
    z-index: 10000 !important;
  }
  
  /* Ensure wallet buttons in modal are tappable on mobile */
  .wallet-adapter-modal button,
  [class*="wallet-adapter"] button {
    min-height: 48px !important; /* Mobile recommended tap target */
    min-width: 48px !important;
    padding: 14px 20px !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
    tap-highlight-color: rgba(34, 197, 94, 0.3) !important;
  }
}

/* Ensure sign dialog appears above wallet adapter modal */
[data-radix-dialog-overlay][class*="wallet-connect"] {
  z-index: 10000 !important;
}

[data-radix-dialog-content] {
  z-index: 10001 !important;
}

/* Winner golden tint animation */
@keyframes golden-pulse {
  0%, 100% {
    opacity: 0.25;
  }
  50% {
    opacity: 0.35;
  }
}

@keyframes golden-shimmer {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes golden-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(234, 179, 8, 0.4), 0 0 40px rgba(234, 179, 8, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(234, 179, 8, 0.6), 0 0 60px rgba(234, 179, 8, 0.4);
  }
}

.winner-golden-overlay {
  background: linear-gradient(
    135deg,
    rgba(234, 179, 8, 0.15) 0%,
    rgba(250, 204, 21, 0.20) 25%,
    rgba(234, 179, 8, 0.25) 50%,
    rgba(250, 204, 21, 0.20) 75%,
    rgba(234, 179, 8, 0.15) 100%
  );
  background-size: 200% 200%;
  animation: golden-pulse 4s ease-in-out infinite, golden-shimmer 6s ease-in-out infinite;
}

.winner-golden-card {
  animation: golden-glow 3s ease-in-out infinite;
}

/* Raffles you've entered (Owl) — glitch + green sparkle / hyped effect */
@keyframes owl-entered-glow {
  0%, 100% {
    box-shadow: 0 0 16px rgba(34, 197, 94, 0.45), 0 0 32px rgba(0, 255, 136, 0.2), inset 0 0 20px rgba(34, 197, 94, 0.06);
  }
  50% {
    box-shadow: 0 0 24px rgba(34, 197, 94, 0.65), 0 0 48px rgba(0, 255, 136, 0.35), inset 0 0 28px rgba(34, 197, 94, 0.1);
  }
}

@keyframes owl-entered-glitch {
  0%, 90%, 100% {
    transform: translate(0, 0) skew(0deg);
    filter: none;
  }
  92% {
    transform: translate(-1px, 1px) skew(0.2deg);
    filter: hue-rotate(-3deg);
  }
  94% {
    transform: translate(1px, -1px) skew(-0.2deg);
    filter: hue-rotate(2deg);
  }
  96% {
    transform: translate(-1px, -1px) skew(0.1deg);
    filter: hue-rotate(-1deg);
  }
  98% {
    transform: translate(1px, 1px) skew(0deg);
    filter: none;
  }
}

@keyframes owl-sparkle-shimmer {
  0% {
    background-position: 0% 0%, 100% 100%;
    opacity: 0.5;
  }
  50% {
    background-position: 100% 100%, 0% 0%;
    opacity: 0.8;
  }
  100% {
    background-position: 0% 0%, 100% 100%;
    opacity: 0.5;
  }
}

.raffle-entered-card {
  animation: owl-entered-glow 2.5s ease-in-out infinite, owl-entered-glitch 4s ease-in-out infinite;
  border-color: rgba(34, 197, 94, 0.6) !important;
}

.raffle-entered-overlay {
  background: linear-gradient(
    135deg,
    rgba(34, 197, 94, 0.08) 0%,
    rgba(0, 255, 136, 0.12) 25%,
    rgba(34, 197, 94, 0.14) 50%,
    rgba(0, 255, 136, 0.12) 75%,
    rgba(34, 197, 94, 0.08) 100%
  );
  background-size: 200% 200%;
  animation: golden-pulse 3s ease-in-out infinite, golden-shimmer 5s ease-in-out infinite;
  pointer-events: none;
}

/* Footer link tab flair */
.footer-link-tab {
  position: relative;
  pointer-events: auto;
  cursor: pointer;
}
.footer-link-tab::after {
  content: '';
  position: absolute;
  bottom: 2px;
  left: 50%;
  height: 2px;
  width: 0;
  background: linear-gradient(90deg, transparent, rgb(34, 197, 94), transparent);
  transition: width 0.3s ease, left 0.3s ease;
  pointer-events: none; /* allow clicks to reach the link */
}
.footer-link-tab:hover::after {
  width: 80%;
  left: 10%;
}

/* Squid Game–style display text (Bebas Neue + red/coral) */
.squid-game-text {
  font-family: var(--font-bebas-neue), Impact, sans-serif;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: #e50914;
  text-shadow:
    0 0 2px rgba(0, 0, 0, 0.8),
    0 2px 4px rgba(0, 0, 0, 0.6),
    1px 1px 0 rgba(0, 0, 0, 0.9);
}

/* Pulsing glow for Rev Share text */
@keyframes rev-share-glow-pulse {
  0%, 100% {
    text-shadow:
      0 0 2px rgba(0, 0, 0, 0.8),
      0 2px 4px rgba(0, 0, 0, 0.6),
      1px 1px 0 rgba(0, 0, 0, 0.9),
      0 0 8px rgba(229, 9, 20, 0.4),
      0 0 16px rgba(229, 9, 20, 0.2);
  }
  50% {
    text-shadow:
      0 0 2px rgba(0, 0, 0, 0.8),
      0 2px 4px rgba(0, 0, 0, 0.6),
      1px 1px 0 rgba(0, 0, 0, 0.9),
      0 0 16px rgba(229, 9, 20, 0.8),
      0 0 32px rgba(229, 9, 20, 0.5),
      0 0 48px rgba(229, 9, 20, 0.3);
  }
}

.rev-share-glow {
  animation: rev-share-glow-pulse 2s ease-in-out infinite;
}

/* Rev Share card: themed to site (dark + green) */
.rev-share-pool-card {
  background: linear-gradient(135deg, rgba(10, 28, 18, 0.96) 0%, rgba(6, 20, 12, 0.98) 50%, rgba(12, 26, 16, 0.96) 100%);
  border: 1px solid rgba(34, 197, 94, 0.35);
  box-shadow:
    0 0 20px rgba(34, 197, 94, 0.15),
    0 0 40px rgba(0, 255, 136, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

/* Pulsing glow for pool value (theme green) */
@keyframes pool-value-glow {
  0%, 100% {
    text-shadow:
      0 0 8px rgba(0, 255, 136, 0.4),
      0 0 20px rgba(34, 197, 94, 0.2);
  }
  50% {
    text-shadow:
      0 0 16px rgba(0, 255, 136, 0.8),
      0 0 32px rgba(34, 197, 94, 0.5),
      0 0 48px rgba(0, 255, 136, 0.25);
  }
}

.pool-value-glow {
  animation: pool-value-glow 2.5s ease-in-out infinite;
}

/* Owltopia neon text */
.owltopia-neon {
  color: rgb(34, 197, 94);
  text-shadow:
    0 0 4px rgb(34, 197, 94),
    0 0 12px rgb(34, 197, 94),
    0 0 24px rgba(34, 197, 94, 0.8),
    0 0 48px rgba(34, 197, 94, 0.5);
}

/* Mobile-first optimizations */
@media (max-width: 640px) {
  /* Ensure inputs are at least 16px to prevent zoom on iOS */
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="datetime-local"],
  input[type="time"],
  input[type="date"],
  select,
  textarea {
    font-size: 16px !important;
  }

  /* Improve touch targets on mobile */
  button,
  a[role="button"],
  .cursor-pointer {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(34, 197, 94, 0.2);
  }

  /* Improve spacing on mobile */
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  /* Optimize card spacing on mobile */
  [class*="Card"] {
    margin-bottom: 0.75rem;
  }
}

/* Improve touch targets for interactive elements */
button,
a[role="button"],
input[type="button"],
input[type="submit"],
label[role="button"],
.cursor-pointer {
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(34, 197, 94, 0.2);
}

/* Desktop-specific button optimizations */
@media (hover: hover) and (pointer: fine) {
  button:not([disabled]),
  a[role="button"]:not([disabled]),
  input[type="button"]:not([disabled]),
  input[type="submit"]:not([disabled]) {
    cursor: pointer !important;
    pointer-events: auto !important;
    touch-action: auto !important;
  }
  
  /* Ensure buttons inside Link components are clickable on desktop */
  a button,
  a[role="button"],
  [role="link"] button {
    pointer-events: auto !important;
    position: relative !important;
    z-index: 1 !important;
  }
}

/* Prevent text selection on buttons for better mobile UX */
button,
a[role="button"],
input[type="button"],
input[type="submit"] {
  user-select: none;
  -webkit-user-select: none;
}
